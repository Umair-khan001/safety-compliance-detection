@startuml Video Upload Detection Process Workflow
!theme plain
skinparam defaultFontName Arial
skinparam defaultFontSize 12
skinparam activityBorderColor #2C3E50
skinparam activityStartColor #27AE60
skinparam activityEndColor #E74C3C
skinparam activityArrowColor #34495E

title Video Upload Detection Process Workflow

start
:Access main application;
:View upload form;
:Select video file;
:Set confidence threshold;
:Submit for processing;
:Validate form;

if (Form valid?) then (no)
  :Show validation errors;
  stop
else (yes)
  :Save uploaded file;
  :Initialize detection session;
  :Start video processing;
endif

:Open video file;

if (Video accessible?) then (no)
  :Show error message;
  stop
else (yes)
  :Process video frames;
  
  repeat
    :Read next frame;
    :Apply PPE detection;
    :Update detection counts;
    :Stream processed frame;
    
  repeat while (More frames?) is (yes)
  
  :Save processed video;
  :Log detection session;
  :Display final results;
  
  if (Process another video?) then (yes)
    :Return to upload form;
  else (no)
    :Continue to other features;
    stop
  endif
endif

stop
@enduml
